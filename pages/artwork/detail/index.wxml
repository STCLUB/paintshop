<t-navbar title="插画详情" left-arrow />

<view class="artwork-detail" wx:if="{{!loading && artwork}}">
  <view class="image-section">
    <swiper 
      class="image-swiper" 
      indicator-dots 
      autoplay 
      circular
      bind:change="onImageChange"
    >
      <swiper-item wx:for="{{artwork.images}}" wx:key="index">
        <image 
          class="artwork-image" 
          src="{{item}}" 
          mode="aspectFill"
          data-url="{{item}}"
          data-urls="{{artwork.images}}"
          bindtap="previewImage"
        />
      </swiper-item>
    </swiper>
    <view class="image-indicator">{{currentImageIndex + 1}} / {{artwork.images.length}}</view>
  </view>

  <view class="info-section">
    <view class="title">{{artwork.title}}</view>
    
    <view class="author-info">
      <image class="author-avatar" src="{{artwork.author.avatar}}" />
      <view class="author-details">
        <text class="author-name">{{artwork.author.name}}</text>
        <text class="publish-time">{{artwork.createTime}}</text>
      </view>
    </view>

    <view class="description">
      <text class="label">作品描述</text>
      <text class="content">{{artwork.description}}</text>
    </view>

    <view class="tags" wx:if="{{artwork.tags && artwork.tags.length > 0}}">
      <t-tag 
        wx:for="{{artwork.tags}}" 
        wx:key="index" 
        size="medium" 
        variant="light" 
        theme="primary"
      >
        #{{item}}
      </t-tag>
    </view>

    <view class="category" wx:if="{{artwork.category}}">
      <text class="category-label">分类：</text>
      <text class="category-value">{{artwork.category}}</text>
    </view>
  </view>
</view>

<t-loading theme="circular" size="40rpx" text="加载中..." loading="{{loading}}" />

<t-message id="t-message" />
